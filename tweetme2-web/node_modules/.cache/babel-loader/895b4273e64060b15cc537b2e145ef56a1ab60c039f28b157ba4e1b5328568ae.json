{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mskar\\\\PycharmProjects\\\\TwitterLikeApp\\\\tweetme2-web\\\\src\\\\tweets\\\\lists.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { apiTweetList } from './lookup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function TweetLists(props) {\n  _s();\n  const [tweetsInit, setTweetsInit] = useState([]);\n  const [tweets, setTweets] = useState([]);\n  const [tweetDidSet, setTweetDidSet] = useState(false);\n  useEffect(() => {\n    let final = [...props.newTweets].concat(tweetsInit);\n    if (final.length !== tweets.length) {\n      setTweets(final);\n    }\n    ;\n  }, [tweetsInit, props.newTweets, tweets]);\n  useEffect(() => {\n    if (tweetDidSet === false) {\n      const handleTweetListLookup = (response, status) => {\n        if (status === 200) {\n          setTweetsInit(response);\n          setTweetDidSet(true);\n        } else {\n          alert('There was an error with this');\n        }\n      };\n      apiTweetList(props.username, handleTweetListLookup);\n    }\n    ;\n  }, [setTweetsInit, tweetDidSet, setTweetDidSet, props.username]);\n  const handleDidRetweet = newTweet => {\n    const updateTweetInit = [...tweetsInit];\n    updateTweetInit.unshift(newTweet);\n    setTweetsInit(updateTweetInit);\n    const updateFinalTweets = [...tweets];\n    updateFinalTweets.unshift(newTweet); //he make's a bug here\n    setTweets(updateFinalTweets);\n  };\n  return tweets.map((item, index) => {\n    return /*#__PURE__*/_jsxDEV(Tweet, {\n      tweet: item,\n      didRetweet: handleDidRetweet,\n      className: \"my-5 py-5 border bg-white text-dark\"\n    }, `${index}-{item.id}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 14\n    }, this);\n  });\n}\n_s(TweetLists, \"WuGYx6Cq5cLkidx14ksJ5pBags8=\");\n_c = TweetLists;\nvar _c;\n$RefreshReg$(_c, \"TweetLists\");","map":{"version":3,"names":["React","useEffect","useState","apiTweetList","jsxDEV","_jsxDEV","TweetLists","props","_s","tweetsInit","setTweetsInit","tweets","setTweets","tweetDidSet","setTweetDidSet","final","newTweets","concat","length","handleTweetListLookup","response","status","alert","username","handleDidRetweet","newTweet","updateTweetInit","unshift","updateFinalTweets","map","item","index","Tweet","tweet","didRetweet","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mskar/PycharmProjects/TwitterLikeApp/tweetme2-web/src/tweets/lists.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  apiTweetList\r\n} from './lookup';\r\n\r\n\r\n\r\n\r\nexport function TweetLists(props) {\r\n\r\n    const [tweetsInit, setTweetsInit] = useState([]);\r\n    const [tweets, setTweets] = useState([]);\r\n    const [tweetDidSet, setTweetDidSet] = useState(false);\r\n    useEffect(() => {\r\n      let final = [...props.newTweets].concat(tweetsInit);\r\n      if (final.length !== tweets.length) {\r\n        setTweets(final);\r\n      };\r\n    }, [tweetsInit, props.newTweets, tweets]);\r\n    \r\n    useEffect(() => {\r\n      if (tweetDidSet === false) {\r\n        const handleTweetListLookup = (response, status) => {\r\n          if (status === 200) {\r\n            setTweetsInit(response);\r\n            setTweetDidSet(true);\r\n          }\r\n          else {\r\n            alert('There was an error with this');\r\n          }\r\n        };\r\n        apiTweetList(props.username,handleTweetListLookup);\r\n      };\r\n    }, [setTweetsInit, tweetDidSet, setTweetDidSet,props.username]);\r\n\r\n    const handleDidRetweet = (newTweet) => {\r\n      const updateTweetInit = [...tweetsInit];\r\n      updateTweetInit.unshift(newTweet);\r\n      setTweetsInit(updateTweetInit);\r\n\r\n      const updateFinalTweets = [...tweets];\r\n      updateFinalTweets.unshift(newTweet);//he make's a bug here\r\n      setTweets(updateFinalTweets);\r\n  \r\n}\r\n\r\n\r\n    return tweets.map((item, index) => {\r\n      return <Tweet tweet={item}\r\n        didRetweet={handleDidRetweet}\r\n        className='my-5 py-5 border bg-white text-dark'\r\n        key={`${index}-{item.id}`} />;\r\n    });\r\n  }"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SACEC,YAAY,QACP,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAKlB,OAAO,SAASC,UAAUA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAE9B,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EACrDD,SAAS,CAAC,MAAM;IACd,IAAIc,KAAK,GAAG,CAAC,GAAGR,KAAK,CAACS,SAAS,CAAC,CAACC,MAAM,CAACR,UAAU,CAAC;IACnD,IAAIM,KAAK,CAACG,MAAM,KAAKP,MAAM,CAACO,MAAM,EAAE;MAClCN,SAAS,CAACG,KAAK,CAAC;IAClB;IAAC;EACH,CAAC,EAAE,CAACN,UAAU,EAAEF,KAAK,CAACS,SAAS,EAAEL,MAAM,CAAC,CAAC;EAEzCV,SAAS,CAAC,MAAM;IACd,IAAIY,WAAW,KAAK,KAAK,EAAE;MACzB,MAAMM,qBAAqB,GAAGA,CAACC,QAAQ,EAAEC,MAAM,KAAK;QAClD,IAAIA,MAAM,KAAK,GAAG,EAAE;UAClBX,aAAa,CAACU,QAAQ,CAAC;UACvBN,cAAc,CAAC,IAAI,CAAC;QACtB,CAAC,MACI;UACHQ,KAAK,CAAC,8BAA8B,CAAC;QACvC;MACF,CAAC;MACDnB,YAAY,CAACI,KAAK,CAACgB,QAAQ,EAACJ,qBAAqB,CAAC;IACpD;IAAC;EACH,CAAC,EAAE,CAACT,aAAa,EAAEG,WAAW,EAAEC,cAAc,EAACP,KAAK,CAACgB,QAAQ,CAAC,CAAC;EAE/D,MAAMC,gBAAgB,GAAIC,QAAQ,IAAK;IACrC,MAAMC,eAAe,GAAG,CAAC,GAAGjB,UAAU,CAAC;IACvCiB,eAAe,CAACC,OAAO,CAACF,QAAQ,CAAC;IACjCf,aAAa,CAACgB,eAAe,CAAC;IAE9B,MAAME,iBAAiB,GAAG,CAAC,GAAGjB,MAAM,CAAC;IACrCiB,iBAAiB,CAACD,OAAO,CAACF,QAAQ,CAAC,CAAC;IACpCb,SAAS,CAACgB,iBAAiB,CAAC;EAElC,CAAC;EAGG,OAAOjB,MAAM,CAACkB,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;IACjC,oBAAO1B,OAAA,CAAC2B,KAAK;MAACC,KAAK,EAAEH,IAAK;MACxBI,UAAU,EAAEV,gBAAiB;MAC7BW,SAAS,EAAC;IAAqC,GACzC,GAAEJ,KAAM,YAAW;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EACjC,CAAC,CAAC;AACJ;AAAC/B,EAAA,CA7CaF,UAAU;AAAAkC,EAAA,GAAVlC,UAAU;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}